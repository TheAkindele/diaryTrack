(this["webpackJsonpdiary-app"]=this["webpackJsonpdiary-app"]||[]).push([[0],{221:function(e,t,n){e.exports=n(418)},379:function(e,t,n){},380:function(e,t,n){},386:function(e,t,n){},418:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),c=n(90),l=n.n(c),o=n(8),u=n(22),s=(n(377),n(28)),d=n(3),m=n(4);function p(){var e=Object(d.a)(["\n    display: flex;\n    justify-content: space-around;\n\n    .list, a{\n        padding: 10px;\n        color: white;\n        cursor: pointer;\n    }\n"]);return p=function(){return e},e}function h(){var e=Object(d.a)(["\n    color: yellow;\n    :hover{color: yellow;}\n"]);return h=function(){return e},e}function f(){var e=Object(d.a)(["\nwidth: 40%;\n\n"]);return f=function(){return e},e}function b(){var e=Object(d.a)(["\n    width: 50%;\n    height: 100%;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return b=function(){return e},e}function g(){var e=Object(d.a)(["\n    height: 10vh;\n    width: 100vw;\n    background-color: black;\n    color: white;\n"]);return g=function(){return e},e}var v=m.a.div(g()),E=m.a.div(b()),y=m.a.div(f()),O=Object(m.a)(i.b)(h()),S=m.a.div(p()),w=Object(o.b)((function(e){return{userStatus:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"SIGN_OUT"})}))}))}}}))((function(e){var t=e.signOut,n=e.userStatus;return r.a.createElement(v,null,r.a.createElement(E,null,r.a.createElement(O,{to:"/"},r.a.createElement("h2",null,"diaryTrack")),r.a.createElement(y,null,n.uid?r.a.createElement(S,null,r.a.createElement(i.b,{to:"/"},"Events"),r.a.createElement(i.b,{to:"/new-event",className:"list new"},"New Event"),r.a.createElement(i.b,{to:"/sign-in",onClick:t},"Sign Out")):r.a.createElement(i.b,{to:"/sign-in"},"Sign In"))))}));function j(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: pink;\n    padding: 5px;\n    color: green;\n\n    .poster{\n        font-weight: bolder;\n        text-transform: capitalize;\n        color: blue;\n    }\n"]);return j=function(){return e},e}function C(){var e=Object(d.a)(["\n    background-color: black;\n    color: red;\n    padding: 5px;\n    border: 1px solid red;\n"]);return C=function(){return e},e}function x(){var e=Object(d.a)(["\n    color: blue;\n    :hover{color: red;}\n"]);return x=function(){return e},e}function I(){var e=Object(d.a)(["\n    background-color: lightgoldenrodyellow;\n    padding: 10px;\n    text-transform: capitalize;\n    width: 350px\n"]);return I=function(){return e},e}function N(){var e=Object(d.a)(["\n    margin-bottom: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n"]);return N=function(){return e},e}var P=m.a.div(N()),k=m.a.div(I()),_=Object(m.a)(i.b)(x()),A=(m.a.div(C()),m.a.div(j()));function U(){var e=Object(d.a)(["\nbackground-color: black;\ncolor: red;\npadding: 5px;\ntext-align: center;\nborder: none;\n"]);return U=function(){return e},e}function F(){var e=Object(d.a)(["\nbackground-color: lightgrey;\npadding: 10px;\n"]);return F=function(){return e},e}function R(){var e=Object(d.a)(["\n    padding: 10px;\n        background-color: white;\n\n        .title{\n            padding: 10px;\n            text-align: center;\n            color: blue;\n        }\n\n        .summary{\n            span {color: tomato;}\n        }\n"]);return R=function(){return e},e}function G(){var e=Object(d.a)(["\n    width: 50%;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    margin-top: 40px;\n"]);return G=function(){return e},e}var T=m.a.div(G()),L=m.a.div(R()),D=m.a.div(F()),B=m.a.button(U()),q=n(26),W=function(e){return function(t,n,a){(0,a.getFirestore)().collection("events").doc(e).delete().then((function(){})).catch((function(e){}))}},z=n(91),J=n.n(z),M=n(16);var Y=Object(M.d)(Object(o.b)((function(e){return{allPosts:e.firestore.ordered.events}}),(function(e){return{deleteEvent:function(t){return e(W(t))}}})),Object(u.firestoreConnect)([{collection:"events",orderBy:["createdAt","desc"]}]))((function(e){var t=e.allPosts,n=e.deleteEvent;return r.a.createElement("div",{className:"event-summary"},t&&t.map((function(e){return r.a.createElement(P,{key:e.id},r.a.createElement(k,null,r.a.createElement(_,{to:"/event/".concat(e.id)},r.a.createElement("h3",{className:"title"},e.title)),r.a.createElement("h6",{className:"content-summary"},e.summary)),r.a.createElement(A,null,r.a.createElement("span",{className:"date"},J()(e.createdAt.toDate()).calendar())),r.a.createElement(B,{onClick:function(){return n(e.id)}},"delete"))})))}));function K(){var e=Object(d.a)(["\nwidth: 50%;\nmargin: 0 auto;\npadding: 25px 5px;\ndisplay: flex;\njustify-content: center;\n\n"]);return K=function(){return e},e}var X=m.a.div(K()),Z=Object(o.b)((function(e){return{userStatus:e.firebase.auth}}))((function(e){return e.userStatus.uid?r.a.createElement(X,null,r.a.createElement("div",null,r.a.createElement(Y,null))):r.a.createElement(s.a,{to:"/sign-in"})})),H=Object(M.d)(Object(o.b)((function(e,t){var n=t.match.params.eventId,a=e.firestore.data.events;return{selectedpost:a?a[n]:null,userStatus:e.firebase.auth}}),(function(e){return{deleteEvent:function(t){return e(W(t))}}})),Object(u.firestoreConnect)([{collection:"events"}]))((function(e){var t=e.selectedpost,n=e.userStatus,a=e.deleteEvent,i=e.match.params.eventId;return n.uid?t?r.a.createElement(T,null,r.a.createElement(L,null,r.a.createElement("h2",{className:"title"},t.title," ",t.id),r.a.createElement("h6",{className:"summary"},"Summary: ",r.a.createElement("span",null,t.summary)),r.a.createElement("p",{className:"content"},t.content)),r.a.createElement(D,null,r.a.createElement("p",{className:"date"},J()(t.createdAt.toDate()).calendar())),r.a.createElement(B,{onClick:function(){if(a(i),a(i))return" I don delete am"}},"delete")):r.a.createElement(T,null,"Event Unavaiable"):r.a.createElement(s.a,{to:"/sign-in"})})),Q=n(27),V=n(47),$=n(48),ee=n(50),te=n(49),ne=n(92),ae=(n(379),function(e){var t=e.handleChange,n=e.label,a=Object(ne.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},a)),n?r.a.createElement("label",{className:"".concat(a.value.length?"shrink":""," form-input-label")}," ",n," "):null)}),re=(n(380),function(e){var t=e.children,n=e.googleSignInBtn,a=e.signIn,i=e.signUp,c=Object(ne.a)(e,["children","googleSignInBtn","signIn","signUp"]);return r.a.createElement("button",Object.assign({className:"\n    ".concat(i?"sign-up":"","\n    ").concat(a?"sign-in":"","\n    ").concat(n?"google-sign-in-btn":"","\n    custom-button")},c),t)});function ie(){var e=Object(d.a)(["\n    background-color: white;\n    width: 40vw;\n    margin: 20px auto;\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n"]);return ie=function(){return e},e}var ce=m.a.div(ie()),le=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(V.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={title:"",summary:"",content:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(Q.a)({},a,r))},e.handleSubmit=function(t){t.preventDefault(),e.props.newEvent(e.state),e.setState({title:"",content:"",summary:""})},e}return Object($.a)(n,[{key:"render",value:function(){return this.props.userStatus.uid?r.a.createElement(ce,null,r.a.createElement("h3",null,"Create New Event"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ae,{type:"text",name:"title",value:this.state.title,label:"Title",handleChange:this.handleChange}),r.a.createElement(ae,{type:"text",name:"summary",value:this.state.summary,label:"Summary",handleChange:this.handleChange,required:!0}),r.a.createElement(ae,{type:"text",name:"content",value:this.state.content,label:"Content",handleChange:this.handleChange,required:!0}),r.a.createElement(re,{type:"submit"},"Create Event"))):r.a.createElement(s.a,{to:"/sign-in"})}}]),n}(a.Component),oe=Object(o.b)((function(e){return{userStatus:e.firebase.auth}}),(function(e){return{newEvent:function(t){return e((n=t,function(e,t,a){var r=a.getFirestore,i=(a.getFirebase,r()),c=t().firebase.auth.uid,l=t().firebase.profile;console.log("the profile ",l),i.collection("events").add(Object(q.a)({},n,{authorId:c,createdAt:new Date,firstname:"",lastname:""})).then((function(){e({type:"CREATE_POST",payload:n})})).catch((function(t){e({type:"CREATE_POST_ERR",payload:t})}))}));var n}}}))(le);function ue(){var e=Object(d.a)(["\n    color: red;\n    font-weight: bold;\n    text-align: center;\n    width: 100%;\n    padding: 5px;\n"]);return ue=function(){return e},e}function se(){var e=Object(d.a)(["\n    display: flex;\n    justify-content: space-around;\n"]);return se=function(){return e},e}function de(){var e=Object(d.a)(["\n    background-color: white;\n    width: 40vw;\n    margin: 20px auto;\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n\n    h3{\n        width: 100%;\n        text-align: center;\n    }\n\n    .to-sign-up{\n        display: flex;\n        padding:20px 10px;\n\n        h5{\n            color: blue;\n            margin-left: 2px;\n\n            &:hover {\n                text-decoration: underline;\n                color: red;\n            }\n        }\n    }\n"]);return de=function(){return e},e}var me=m.a.div(de()),pe=m.a.div(se()),he=m.a.div(ue()),fe=n(52),be=n.n(fe);n(381),n(383);be.a.initializeApp({apiKey:"AIzaSyD_wq6NdAvByd7GUcJCFWorEZY4MB03JRY",authDomain:"diary-app-148c0.firebaseapp.com",databaseURL:"https://diary-app-148c0.firebaseio.com",projectId:"diary-app-148c0",storageBucket:"diary-app-148c0.appspot.com",messagingSenderId:"731366878168",appId:"1:731366878168:web:ef6ce3253ce732b5ea20ad",measurementId:"G-SD6GX8MB6E"}),be.a.firestore();var ge=be.a.auth(),ve=new be.a.auth.GoogleAuthProvider;ve.setCustomParameters({prompt:"select_account"});var Ee=function(){return ge.signInWithPopup(ve)},ye=be.a,Oe=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(V.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(Q.a)({},a,r))},e.handleSubmit=function(t){t.preventDefault(),e.props.signInAuth(e.state),e.setState({email:"",password:""})},e}return Object($.a)(n,[{key:"render",value:function(){var e=this.props,t=e.signInStatus;return e.userStatus.uid?r.a.createElement(s.a,{to:"/"}):r.a.createElement(me,null,r.a.createElement("h3",null,"Sign In"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(he,null,t?r.a.createElement("p",null,t):null),r.a.createElement(ae,{type:"email",name:"email",value:this.state.email,label:"Email",handleChange:this.handleChange}),r.a.createElement(ae,{type:"password",name:"password",value:this.state.password,label:"Password",handleChange:this.handleChange,required:!0}),r.a.createElement(pe,null,r.a.createElement(re,{signIn:!0,type:"submit"},"Sign In"),r.a.createElement(re,{onClick:Ee,googleSignInBtn:!0},"Sign In With Google")),r.a.createElement("div",{className:"to-sign-up"},"Dont have an account? ",r.a.createElement(i.b,{to:"/sign-up"},r.a.createElement("h5",null,"  Click here to sign up")))))}}]),n}(a.Component),Se=Object(o.b)((function(e){return{signInStatus:e.authState.authError,userStatus:e.firebase.auth}}),(function(e){return{signInAuth:function(t){return e((n=t,function(e,t,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(n.email,n.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",payload:t})}))}));var n}}}))(Oe),we=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(V.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={firstname:"",lastname:"",email:"",password:"",confirmPassword:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(Q.a)({},a,r))},e.handleSubmit=function(t){var n=e.state,a=n.password,r=n.confirmPassword;if(t.preventDefault(),console.log("sign up= ",e.state),a!==r)return alert("Password must be same as Confirm Password"),e.setState({confirmPassword:""});e.props.registerNewUser(e.state),e.setState({firstname:"",lastname:"",email:"",password:"",confirmPassword:""})},e}return Object($.a)(n,[{key:"render",value:function(){var e=this.props,t=e.userStatus,n=e.signUpError;return t.uid?r.a.createElement(s.a,{to:"/"}):r.a.createElement(me,null,r.a.createElement("h3",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(he,null,n?r.a.createElement("h5",null,n.message):null),r.a.createElement(ae,{type:"text",name:"firstname",value:this.state.firstname,label:"First Name",handleChange:this.handleChange}),r.a.createElement(ae,{type:"text",name:"lastname",value:this.state.lastname,label:"Last Name",handleChange:this.handleChange}),r.a.createElement(ae,{type:"email",name:"email",value:this.state.email,label:"Email",handleChange:this.handleChange}),r.a.createElement(ae,{type:"password",name:"password",value:this.state.password,label:"Password",handleChange:this.handleChange,required:!0}),r.a.createElement(ae,{type:"password",name:"confirmPassword",value:this.state.confirmPassword,label:"Confirm Password",handleChange:this.handleChange,required:!0}),r.a.createElement(re,{signUp:!0,type:"submit"},"Sign Up")))}}]),n}(a.Component),je=Object(o.b)((function(e){return{userStatus:e.firebase.auth,signUpError:e.authState.authError}}),(function(e){return{registerNewUser:function(t){return e((n=t,function(e,t,a){var r=a.getFirebase,i=a.getFirestore,c=r(),l=i();c.auth().createUserWithEmailAndPassword(n.email,n.password).then((function(e){return l.collection("users").doc(e.user.uid).set({firstName:n.firstname,lastName:n.lastname,initial:n.firstname[0]+n.lastname[0]})})).then((function(){e({type:"SIGN_UP_SUCCESS"})})).catch((function(t){e({type:"SIGN_UP_FAIL",payload:t})}))}));var n}}}))(we);n(386);var Ce=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(w,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:Z}),r.a.createElement(s.b,{path:"/event/:eventId",component:H}),r.a.createElement(s.b,{path:"/new-event",component:oe}),r.a.createElement(s.b,{path:"/sign-in",component:Se}),r.a.createElement(s.b,{path:"/sign-up",component:je})))},xe=n(220),Ie={posts:[],post:""},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POST":case"CREATE_POST_ERR":return e;case"GET_POST":return Object(q.a)({},e,{post:t.payload});case"DELETE_POST":default:return e}},Pe={authError:null},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(q.a)({},e,{authError:null});case"LOGIN_ERROR":return Object(q.a)({},e,{authError:"Login Input Error"});case"SIGN_OUT":return e;case"SIGN_UP_SUCCESS":return Object(q.a)({},e,{authError:null});case"SIGN_UP_FAIL":return Object(q.a)({},e,{authError:t.payload});default:return e}},_e=n(51),Ae=Object(M.c)({postState:Ne,authState:ke,firestore:_e.firestoreReducer,firebase:u.firebaseReducer}),Ue=[xe.a.withExtraArgument({getFirebase:u.getFirebase,getFirestore:_e.getFirestore})],Fe=Object(M.e)(Ae,Object(M.d)(M.a.apply(void 0,Ue),Object(_e.reduxFirestore)(ye))),Re={firebase:ye,config:{useFirestoreForProfile:!0,userProfile:"users ",attachAuthIsReady:!0},dispatch:Fe.dispatch,createFirestoreInstance:_e.createFirestoreInstance},Ge=Object(o.b)((function(e){return{authIsLoaded:e.firebase.auth&&e.firebase.auth.isLoaded}}))((function(e){return e.authIsLoaded?r.a.createElement(Ce,null):r.a.createElement("div",{className:"load"},"Loading...")})),Te=Fe;l.a.render(r.a.createElement(o.a,{store:Te},r.a.createElement(u.ReactReduxFirebaseProvider,Re,r.a.createElement(i.a,null,r.a.createElement(Ge,null)))),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.ccda5167.chunk.js.map